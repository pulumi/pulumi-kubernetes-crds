// *** WARNING: this file was generated by crd2pulumi. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Kubernetes.Types.Inputs.Monitoring.V1
{

    /// <summary>
    /// Specification of the desired behavior of the ThanosRuler cluster. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#spec-and-status
    /// </summary>
    public class ThanosRulerSpecArgs : Pulumi.ResourceArgs
    {
        /// <summary>
        /// If specified, the pod's scheduling constraints.
        /// </summary>
        [Input("affinity")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecAffinityArgs>? Affinity { get; set; }

        [Input("alertDropLabels")]
        private InputList<string>? _alertDropLabels;

        /// <summary>
        /// AlertDropLabels configure the label names which should be dropped in ThanosRuler alerts. If `labels` field is not provided, `thanos_ruler_replica` will be dropped in alerts by default.
        /// </summary>
        public InputList<string> AlertDropLabels
        {
            get => _alertDropLabels ?? (_alertDropLabels = new InputList<string>());
            set => _alertDropLabels = value;
        }

        /// <summary>
        /// Define configuration for connecting to alertmanager.  Only available with thanos v0.10.0 and higher.  Maps to the `alertmanagers.config` arg.
        /// </summary>
        [Input("alertmanagersConfig")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecAlertmanagersConfigArgs>? AlertmanagersConfig { get; set; }

        /// <summary>
        /// Define URL to send alerts to alertmanager.  For Thanos v0.10.0 and higher, AlertManagersConfig should be used instead. Maps to the `alertmanagers.url` arg.
        /// </summary>
        [Input("alertmanagersUrl")]
        public Input<string>? AlertmanagersUrl { get; set; }

        [Input("containers")]
        private InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecContainersArgs>? _containers;

        /// <summary>
        /// Containers allows injecting additional containers or modifying operator generated containers. This can be used to allow adding an authentication proxy to a ThanosRuler pod or to change the behavior of an operator generated container. Containers described here modify an operator generated container if they share the same name and modifications are done via a strategic merge patch. The current container names are: `thanos-ruler` and `rules-configmap-reloader`. Overriding containers is entirely outside the scope of what the maintainers will support and by doing so, you accept that this behaviour may break at any time without notice.
        /// </summary>
        public InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecContainersArgs> Containers
        {
            get => _containers ?? (_containers = new InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecContainersArgs>());
            set => _containers = value;
        }

        /// <summary>
        /// EnforcedNamespaceLabel enforces adding a namespace label of origin for each alert and metric that is user created. The label value will always be the namespace of the object that is being created.
        /// </summary>
        [Input("enforcedNamespaceLabel")]
        public Input<string>? EnforcedNamespaceLabel { get; set; }

        /// <summary>
        /// Interval between consecutive evaluations.
        /// </summary>
        [Input("evaluationInterval")]
        public Input<string>? EvaluationInterval { get; set; }

        /// <summary>
        /// The external URL the Thanos Ruler instances will be available under. This is necessary to generate correct URLs. This is necessary if Thanos Ruler is not served from root of a DNS name.
        /// </summary>
        [Input("externalPrefix")]
        public Input<string>? ExternalPrefix { get; set; }

        /// <summary>
        /// Thanos container image URL.
        /// </summary>
        [Input("image")]
        public Input<string>? Image { get; set; }

        [Input("imagePullSecrets")]
        private InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecImagePullSecretsArgs>? _imagePullSecrets;

        /// <summary>
        /// An optional list of references to secrets in the same namespace to use for pulling thanos images from registries see http://kubernetes.io/docs/user-guide/images#specifying-imagepullsecrets-on-a-pod
        /// </summary>
        public InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecImagePullSecretsArgs> ImagePullSecrets
        {
            get => _imagePullSecrets ?? (_imagePullSecrets = new InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecImagePullSecretsArgs>());
            set => _imagePullSecrets = value;
        }

        [Input("initContainers")]
        private InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecInitContainersArgs>? _initContainers;

        /// <summary>
        /// InitContainers allows adding initContainers to the pod definition. Those can be used to e.g. fetch secrets for injection into the ThanosRuler configuration from external sources. Any errors during the execution of an initContainer will lead to a restart of the Pod. More info: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/ Using initContainers for any use case other then secret fetching is entirely outside the scope of what the maintainers will support and by doing so, you accept that this behaviour may break at any time without notice.
        /// </summary>
        public InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecInitContainersArgs> InitContainers
        {
            get => _initContainers ?? (_initContainers = new InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecInitContainersArgs>());
            set => _initContainers = value;
        }

        [Input("labels")]
        private InputMap<string>? _labels;

        /// <summary>
        /// Labels configure the external label pairs to ThanosRuler. If not provided, default replica label `thanos_ruler_replica` will be added as a label and be dropped in alerts.
        /// </summary>
        public InputMap<string> Labels
        {
            get => _labels ?? (_labels = new InputMap<string>());
            set => _labels = value;
        }

        /// <summary>
        /// ListenLocal makes the Thanos ruler listen on loopback, so that it does not bind against the Pod IP.
        /// </summary>
        [Input("listenLocal")]
        public Input<bool>? ListenLocal { get; set; }

        /// <summary>
        /// Log format for ThanosRuler to be configured with.
        /// </summary>
        [Input("logFormat")]
        public Input<string>? LogFormat { get; set; }

        /// <summary>
        /// Log level for ThanosRuler to be configured with.
        /// </summary>
        [Input("logLevel")]
        public Input<string>? LogLevel { get; set; }

        [Input("nodeSelector")]
        private InputMap<string>? _nodeSelector;

        /// <summary>
        /// Define which Nodes the Pods are scheduled on.
        /// </summary>
        public InputMap<string> NodeSelector
        {
            get => _nodeSelector ?? (_nodeSelector = new InputMap<string>());
            set => _nodeSelector = value;
        }

        /// <summary>
        /// ObjectStorageConfig configures object storage in Thanos.
        /// </summary>
        [Input("objectStorageConfig")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecObjectStorageConfigArgs>? ObjectStorageConfig { get; set; }

        /// <summary>
        /// When a ThanosRuler deployment is paused, no actions except for deletion will be performed on the underlying objects.
        /// </summary>
        [Input("paused")]
        public Input<bool>? Paused { get; set; }

        /// <summary>
        /// PodMetadata contains Labels and Annotations gets propagated to the thanos ruler pods.
        /// </summary>
        [Input("podMetadata")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecPodMetadataArgs>? PodMetadata { get; set; }

        /// <summary>
        /// Port name used for the pods and governing service. This defaults to web
        /// </summary>
        [Input("portName")]
        public Input<string>? PortName { get; set; }

        /// <summary>
        /// Priority class assigned to the Pods
        /// </summary>
        [Input("priorityClassName")]
        public Input<string>? PriorityClassName { get; set; }

        /// <summary>
        /// Define configuration for connecting to thanos query instances. If this is defined, the QueryEndpoints field will be ignored. Maps to the `query.config` CLI argument. Only available with thanos v0.11.0 and higher.
        /// </summary>
        [Input("queryConfig")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecQueryConfigArgs>? QueryConfig { get; set; }

        [Input("queryEndpoints", required: true)]
        private InputList<string>? _queryEndpoints;

        /// <summary>
        /// QueryEndpoints defines Thanos querier endpoints from which to query metrics. Maps to the --query flag of thanos ruler.
        /// </summary>
        public InputList<string> QueryEndpoints
        {
            get => _queryEndpoints ?? (_queryEndpoints = new InputList<string>());
            set => _queryEndpoints = value;
        }

        /// <summary>
        /// Number of thanos ruler instances to deploy.
        /// </summary>
        [Input("replicas")]
        public Input<int>? Replicas { get; set; }

        /// <summary>
        /// Resources defines the resource requirements for single Pods. If not provided, no requests/limits will be set
        /// </summary>
        [Input("resources")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecResourcesArgs>? Resources { get; set; }

        /// <summary>
        /// Time duration ThanosRuler shall retain data for. Default is '24h', and must match the regular expression `[0-9]+(ms|s|m|h|d|w|y)` (milliseconds seconds minutes hours days weeks years).
        /// </summary>
        [Input("retention")]
        public Input<string>? Retention { get; set; }

        /// <summary>
        /// The route prefix ThanosRuler registers HTTP handlers for. This allows thanos UI to be served on a sub-path.
        /// </summary>
        [Input("routePrefix")]
        public Input<string>? RoutePrefix { get; set; }

        /// <summary>
        /// Namespaces to be selected for Rules discovery. If unspecified, only the same namespace as the ThanosRuler object is in is used.
        /// </summary>
        [Input("ruleNamespaceSelector")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecRuleNamespaceSelectorArgs>? RuleNamespaceSelector { get; set; }

        /// <summary>
        /// A label selector to select which PrometheusRules to mount for alerting and recording.
        /// </summary>
        [Input("ruleSelector")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecRuleSelectorArgs>? RuleSelector { get; set; }

        /// <summary>
        /// SecurityContext holds pod-level security attributes and common container settings. This defaults to the default PodSecurityContext.
        /// </summary>
        [Input("securityContext")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecSecurityContextArgs>? SecurityContext { get; set; }

        /// <summary>
        /// ServiceAccountName is the name of the ServiceAccount to use to run the Thanos Ruler Pods.
        /// </summary>
        [Input("serviceAccountName")]
        public Input<string>? ServiceAccountName { get; set; }

        /// <summary>
        /// Storage spec to specify how storage shall be used.
        /// </summary>
        [Input("storage")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecStorageArgs>? Storage { get; set; }

        [Input("tolerations")]
        private InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecTolerationsArgs>? _tolerations;

        /// <summary>
        /// If specified, the pod's tolerations.
        /// </summary>
        public InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecTolerationsArgs> Tolerations
        {
            get => _tolerations ?? (_tolerations = new InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecTolerationsArgs>());
            set => _tolerations = value;
        }

        /// <summary>
        /// TracingConfig configures tracing in Thanos. This is an experimental feature, it may change in any upcoming release in a breaking way.
        /// </summary>
        [Input("tracingConfig")]
        public Input<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecTracingConfigArgs>? TracingConfig { get; set; }

        [Input("volumes")]
        private InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecVolumesArgs>? _volumes;

        /// <summary>
        /// Volumes allows configuration of additional volumes on the output StatefulSet definition. Volumes specified will be appended to other volumes that are generated as a result of StorageSpec objects.
        /// </summary>
        public InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecVolumesArgs> Volumes
        {
            get => _volumes ?? (_volumes = new InputList<Pulumi.Kubernetes.Types.Inputs.Monitoring.V1.ThanosRulerSpecVolumesArgs>());
            set => _volumes = value;
        }

        public ThanosRulerSpecArgs()
        {
        }
    }
}
